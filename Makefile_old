CFLAGS = -std=c++17 -O2 -no-pie
LDFLAGS = -lglfw -ldl -lpthread -lX11 -lXxf86vm -lXrandr -lXi -lvulkan
GLSLC = /usr/local/glslc/bin/glslc

.PHONY: VulkanTest test clean shader

VulkanTest:
	g++ $(CFLAGS) -o VulkanTest_x86-64 source/*.cpp $(LDFLAGS) -I source/include -I source/thirdparty

test: VulkanTest
	./VulkanTest_x86-64

clean:
	rm -f VulkanTest_x86-64

shader: 
	$(GLSLC) shaders/source/triangle.vert -o shaders/SPIR-V/vert.spv
	$(GLSLC) shaders/source/triangle.frag -o shaders/SPIR-V/frag.spv 
